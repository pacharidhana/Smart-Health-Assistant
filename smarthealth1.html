<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Health Assistant</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f7fa; }
    header { background: #2b6777; color: white; padding: 20px; text-align: center; }
    nav a { color: white; margin: 0 15px; text-decoration: none; }
    section { padding: 40px; max-width: 900px; margin: auto; }
    h2 { color: #2b6777; }
    .chatbox { border: 1px solid #ccc; background: white; height: 300px; overflow-y: auto; padding: 10px; margin-bottom: 10px; }
    .message { margin: 5px 0; padding: 8px; border-radius: 5px; }
    .user { background: #d1f0ff; text-align: right; }
    .bot { background: #e4e4e4; text-align: left; }
    .input-area { display: flex; margin-bottom: 10px; }
    .input-area input { flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px 0 0 5px; }
    .input-area button { padding: 10px; border: none; background: #2b6777; color: white; cursor: pointer; border-radius: 0 5px 5px 0; }
    .voice-btn { margin-left: 10px; padding: 10px; border: none; background: #52ab98; color: white; border-radius: 5px; cursor: pointer; }
    .symptoms-btn { padding: 10px; border: none; background: #ff9800; color: white; border-radius: 5px; cursor: pointer; }
    footer { background: #2b6777; color: white; text-align: center; padding: 10px; margin-top: 20px; }
    /* Modal styling */
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background: rgba(0,0,0,0.5); }
    .modal-content { background: white; margin: 10% auto; padding: 20px; border-radius: 8px; width: 80%; max-width: 500px; }
    .modal h3 { margin-top: 0; color: #2b6777; }
    .close { color: #aaa; float: right; font-size: 20px; cursor: pointer; }
    .tool-box { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .tool-box input, .tool-box button { margin-top: 10px; padding: 8px; }
  </style>
</head>
<body>
  <header>
    <h1>Smart Health Assistant</h1>
    <nav>
      <a href="#features">Features</a>
      <a href="#demo">Chat Demo</a>
      <a href="#tools">Extra Tools</a>
      <a href="#tech">Tech Stack</a>
    </nav>
  </header>

  <section id="features">
    <h2>Features</h2>
    <ul>
      <li>ü§ñ AI-powered symptom checking</li>
      <li>üíä Medication reminders</li>
      <li>üèÉ Fitness and lifestyle suggestions</li>
      <li>üé§ Voice input support</li>
      <li>üìä Extra tools for BMI, wellness tips, and first aid</li>
    </ul>
  </section>

  <section id="demo">
    <h2>Chatbot Demo</h2>
    <div class="chatbox" id="chatbox"></div>
    <div class="input-area">
      <input type="text" id="userInput" placeholder="Type your symptom...">
      <button onclick="sendMessage()">Send</button>
      <button class="voice-btn" onclick="startVoice()">üé§ Speak</button>
    </div>
    <button class="symptoms-btn" onclick="openModal()">üìã View Supported Symptoms</button>
  </section>

  <section id="tools">
    <h2>Extra Tools</h2>

    <!-- BMI Calculator -->
    <div class="tool-box">
      <h3>‚öñÔ∏è BMI Calculator</h3>
      <label>Height (cm): <input type="number" id="height"></label><br>
      <label>Weight (kg): <input type="number" id="weight"></label><br>
      <button onclick="calculateBMI()">Calculate BMI</button>
      <p id="bmiResult"></p>
    </div>

    <!-- Wellness Tips -->
    <div class="tool-box">
      <h3>üå± Daily Wellness Tip</h3>
      <button onclick="showTip()">Get Tip</button>
      <p id="tipResult"></p>
    </div>

    <!-- First Aid -->
    <div class="tool-box">
      <h3>‚õëÔ∏è First Aid Suggestions</h3>
      <button onclick="firstAid()">Show Suggestions</button>
      <p id="aidResult"></p>
    </div>
  </section>

  <section id="tech">
    <h2>Tech Stack</h2>
    <p><b>Backend:</b> Python, FastAPI, TensorFlow</p>
    <p><b>Frontend:</b> React Native (mobile), HTML/CSS/JS (prototype)</p>
    <p><b>Features:</b> Voice recognition, AI symptom analysis, chatbot</p>
  </section>

  <footer>
    <p>‚ö†Ô∏è This demo is for educational purposes only. Not a substitute for professional medical advice.</p>
  </footer>

  <!-- Modal -->
  <div id="symptomModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h3>Supported Symptoms</h3>
      <ul>
        <li>‚ù§Ô∏è Heart Attack (chest pain, shortness of breath)</li>
        <li>ü©∏ High Blood Pressure</li>
        <li>üç¨ Diabetes</li>
        <li>ü§í Fever (mild, high, typhoid)</li>
        <li>ü§ï Migraine Headache</li>
        <li>üí¢ General Headache</li>
        <li>ü§¢ Stomach Pain</li>
        <li>ü¶¥ Back Pain</li>
        <li>‚öñÔ∏è Overweight / Underweight</li>
        <li>üó£Ô∏è Throat Infections</li>
        <li>üß† Mental Stress</li>
        <li>üèÉ Fitness Advice</li>
        <li>ü•ó Nutrition Suggestions</li>
      </ul>
    </div>
  </div>

  <script>
    const chatbox = document.getElementById("chatbox");

    function appendMessage(msg, sender){
      let div = document.createElement("div");
      div.classList.add("message", sender);
      div.innerText = msg;
      chatbox.appendChild(div);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    async function sendMessage(){
      const input = document.getElementById("userInput");
      const text = input.value.trim();
      if(!text) return;
      appendMessage(text, "user");
      input.value = "";
      let res = await mockCheckSymptom(text);
      appendMessage(
        "Suggestions: " + res.suggestions.join(", ") +
        " (confidence: " + res.confidence.map(c=>Math.round(c*100)+"%").join(", ") + ")" +
        (res.prescription ? "\nPrescription (demo): " + res.prescription.join(", ") : ""),
        "bot"
      );
    }

    async function mockCheckSymptom(text){
      await new Promise(r=>setTimeout(r,700));
      text = text.toLowerCase();

      if(text.includes("chest pain") || text.includes("shortness of breath") || text.includes("heart attack")){
        return { suggestions: ["Possible Heart Attack"], prescription: ["üöë Seek emergency help"], confidence: [0.95] };
      }
      if(text.includes("blood pressure") || text.includes("hypertension")){
        return { suggestions: ["High Blood Pressure"], prescription: ["Low salt diet, exercise"], confidence: [0.80] };
      }
      if(text.includes("diabetes") || text.includes("sugar")){
        return { suggestions: ["Diabetes"], prescription: ["Healthy diet, checkups"], confidence: [0.85] };
      }
      if(text.includes("fever")){
        if(text.includes("typhoid")) return { suggestions: ["Typhoid Fever"], prescription: ["Antibiotics (doctor prescribed)"], confidence: [0.85] };
        return { suggestions: ["Fever"], prescription: ["Rest, fluids, paracetamol"], confidence: [0.70] };
      }
      if(text.includes("migraine")) return { suggestions: ["Migraine"], prescription: ["Rest in dark, pain relievers"], confidence: [0.82] };
      if(text.includes("headache")) return { suggestions: ["Tension headache"], prescription: ["Hydration, rest"], confidence: [0.60] };
      if(text.includes("stomach pain")) return { suggestions: ["Stomach Pain"], prescription: ["Light meals, hydration"], confidence: [0.75] };
      if(text.includes("back pain")) return { suggestions: ["Back Pain"], prescription: ["Rest, stretching"], confidence: [0.72] };
      if(text.includes("overweight")) return { suggestions: ["Overweight"], prescription: ["Exercise, balanced diet"], confidence: [0.80] };
      if(text.includes("underweight")) return { suggestions: ["Underweight"], prescription: ["High-protein diet, doctor advice"], confidence: [0.75] };
      if(text.includes("throat infection")) return { suggestions: ["Throat Infection"], prescription: ["Warm water, lozenges"], confidence: [0.78] };
      if(text.includes("stress") || text.includes("mental")) return { suggestions: ["Mental Stress"], prescription: ["Meditation, relaxation"], confidence: [0.70] };
      if(text.includes("fitness")) return { suggestions: ["Fitness Guidance"], prescription: ["30 min daily exercise"], confidence: [0.65] };
      if(text.includes("nutrition")) return { suggestions: ["Nutrition Suggestion"], prescription: ["Balanced diet with fruits/veggies"], confidence: [0.68] };

      return { suggestions: ["Further checks needed"], prescription: ["Consult a doctor"], confidence: [0.0] };
    }

    function startVoice(){
      if(!('webkitSpeechRecognition' in window)){ alert("Voice recognition not supported."); return; }
      let recognition = new webkitSpeechRecognition();
      recognition.lang = "en-US";
      recognition.start();
      recognition.onresult = function(event){
        let text = event.results[0][0].transcript;
        document.getElementById("userInput").value = text;
        sendMessage();
      };
    }

    // Modal
    function openModal(){ document.getElementById("symptomModal").style.display = "block"; }
    function closeModal(){ document.getElementById("symptomModal").style.display = "none"; }
    window.onclick = function(e){ if(e.target === document.getElementById("symptomModal")) closeModal(); }

    // Tools
    function calculateBMI(){
      const h = parseFloat(document.getElementById("height").value)/100;
      const w = parseFloat(document.getElementById("weight").value);
      if(!h || !w){ document.getElementById("bmiResult").innerText = "Enter valid inputs"; return; }
      const bmi = w/(h*h);
      let status = bmi<18.5?"Underweight":bmi<24.9?"Normal":bmi<29.9?"Overweight":"Obese";
      document.getElementById("bmiResult").innerText = "BMI: " + bmi.toFixed(2) + " ("+status+")";
    }

    const tips = ["Drink 2L water daily","Walk 30 mins daily","Sleep at least 7 hours","Eat more fruits & vegetables","Avoid junk food","Practice meditation"];
    function showTip(){ document.getElementById("tipResult").innerText = tips[Math.floor(Math.random()*tips.length)]; }

    function firstAid(){ document.getElementById("aidResult").innerText = "Burn: Cool with water ‚Ä¢ Cut: Clean & bandage ‚Ä¢ Faint: Lay down, elevate legs ‚Ä¢ Nosebleed: Lean forward, pinch nose"; }
  </script>
</body>
</html>